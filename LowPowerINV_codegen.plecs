Plecs {
  Name          "LowPowerINV_codegen"
  Version       "4.9"
  CircuitModel  "ContStateSpace"
  StartTime     "0.0"
  TimeSpan      "80"
  Timeout       ""
  Solver        "dopri"
  MaxStep       "1e-4"
  InitStep      "-1"
  FixedStep     "1e-4"
  Refine        "1"
  ZCStepSize    "1e-9"
  RelTol        "1e-3"
  AbsTol        "-1"
  TurnOnThreshold "0"
  NonIdealSwitchResistance "1"
  SyncFixedStepTasks "2"
  UseSingleCommonBaseRate "2"
  LossVariableLimitExceededMsg "3"
  NegativeSwitchLossMsg "3"
  DivisionByZeroMsg "3"
  DatatypeOverflowMsg "2"
  DatatypeInheritanceConflictMsg "1"
  ContSampleTimeConflictMsg "1"
  StiffnessDetectionMsg "2"
  MaxConsecutiveZCs "1000"
  AlgebraicLoopWithStateMachineMsg "3"
  AssertionAction "1"
  FixedPointDatatypeOverride "1"
  InitializationCommands "Rdson = 0.082\n%Ts = 1e-4\n\nESR = 0.01\nRf = 0.0036"
";\nLf = 0.001;\nfsw = 10000;\n\nTs = 1/fsw;\n\n%PI controllers parameters cal"
"culation\nR = 0.25;\nLd = 0.5e-3;\nLq = 0.27e-3;\nLm = 0.0025;\nIf = 10;\n%La"
"mbda0 = Lm*If*2;\nLambda0 = 0.16;\nJ = 0.0002\nB = 0.00005;\npole = 2;\nmax_s"
"peed = 150*pole*pi;\n\n\n%Current controllers;\nalfa1 = R/Ld*10000;\nKip = Ld"
"*alfa1 ;\nKii = R*alfa1;\nalfa2 = alfa1;\n\n%Speed controllers\nKt = (1.5*pol"
"e*If)\nKwp = 2*(1+B)*alfa2*J/Kt \nKwi = alfa2*alfa2*J/Kt\n\n\nKwp = 10;\nKwi "
"= 100;\nKip = 5;\nKii = 100;\n\nUdc = 300;\nKnee_omega = 100*pole*2*pi;\nKnee"
"_point_Z = Lf*Knee_omega;\nU_Max_Knee_point = Udc*sqrt(3)/2/sqrt(2);\nI_Max_K"
"nee_point = U_Max_Knee_point/Knee_point_Z;\nPsi_Knee_point = U_Max_Knee_point"
"/Knee_omega;"
  InitialState  "1"
  SystemState   ""
  TaskingMode   "1"
  TaskConfigurations ""
  CodeGenParameterInlining "2"
  CodeGenFloatingPointFormat "2"
  CodeGenAbsTimeUsageMsg "3"
  CodeGenBaseName ""
  CodeGenOutputDir ""
  CodeGenExtraOpts ""
  CodeGenTarget "TI2806x"
  CodeGenTargetSettings "AAAAfwAAAAAlUU1hcDxRU3RyaW5nLFFNYXA8UVN0cmluZyxRU3Rya"
"W5nPiA+AAAAAAIAAAAOAFQASQAyADgAMAA2AHgAAAAOAAAAEgB1AHMAZQBJAG4AdABPAHMAYwAAAA"
"IAMQAAABgAdQBuAGkAZgBsAGEAcwBoAEYAaQBsAGUAAAAAAAAAFgB0AGEAcwBrAEYAcgBlAHEAVAB"
"vAGwAAAACADEAAAASAHMAeQBzAEMAbABrAE0ASAB6AAAABAA5ADAAAAAUAGkAbgBzAHQAYQBsAGwA"
"RABpAHIAAAAAAAAADgBnAGUAbgBPAG4AbAB5AAAAAgAyAAAAHABlAHgAdABNAG8AZABlAFMAYwBpA"
"FAAaQBuAHMAAAAQAFsAMgA4ACwAIAAyADkAXQAAACIAZQB4AHQATQBvAGQAZQBCAHUAZgBmAGUAcg"
"BTAGkAegBlAAAACAAxADAAMAAwAAAAEgBlAHgAdABDAGwAawBNAEgAegAAAAQAMgAwAAAACABjAGg"
"AaQBwAAAAAgAxAAAAFgBiAHUAaQBsAGQAQwBvAG4AZgBpAGcAAAACADEAAAAKAGIAbwBhAHIAZAAA"
"AAIAMgAAABoAVABBAFIARwBFAFQAXwBEAEUAVgBJAEMARQAAAEIAMAB8AC8AZABlAHYALwBjAHUAL"
"gB1AHMAYgBzAGUAcgBpAGEAbAAtAFQASQAwAFMAWQBVAEMAQQAxAHwAMAB8ADAAAAAaAEUAWABUAE"
"UAUgBOAEEATABfAE0ATwBEAEUAAAACADEAAAAOAEcAZQBuAGUAcgBpAGMAAAAA"
  ExtendedMatrixPrecision "1"
  MatrixSignificanceCheck "2"
  RemoveUnusedStateSpaceOutputs "1"
  EnableStateSpaceSplitting "2"
  DisplayStateSpaceSplitting "1"
  DiscretizationMethod "2"
  ExternalModeSettings "AAAAfwAAAAAWUU1hcDxRU3RyaW5nLFFTdHJpbmc+AAAAAAcAAAAYAF"
"QAcgBpAGcAZwBlAHIAVgBhAGwAdQBlAAAAAgAwAAAAGABUAHIAaQBnAGcAZQByAEQAZQBsAGEAeQA"
"AAAIAMAAAABwAVAByAGkAZwBnAGUAcgBDAGgAYQBuAG4AZQBsAAAABAAtADEAAAAWAFMAZQBuAHMA"
"aQB0AGkAdgBpAHQAeQAAAAIAMAAAABYAUgBlAGYAcgBlAHMAaABSAGEAdABlAAAABAAyADAAAAAUA"
"E4AdQBtAFMAYQBtAHAAbABlAHMAAAAIADgAMQA5ADIAAAAUAEQAZQBjAGkAbQBhAHQAaQBvAG4AAA"
"ACADE="
  AlgebraicLoopMethod "1"
  AlgebraicLoopTolerance "1e-6"
  ScriptsDialogGeometry ""
  ScriptsDialogSplitterPos "0"
  Schematic {
    Location      [0, 26; 1920, 1040]
    ZoomFactor    1
    SliderPosition [0, 0]
    ShowBrowser   off
    BrowserWidth  100
    Component {
      Type          Subsystem
      Name          "28379D"
      Show          on
      Position      [275, 335]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-50, -50; 50, 50]
      TreatAsAtomicUnit on
      SampleTime    "-1"
      TaskingMode "2"
      TaskConfigurations "AAAACQAAAAACAAAACAAAAAAGAAAACABDAG8AcgBlAAAAAgAAAAAA"
"AAAABgBDAHAAdQAAAAIAAAAAAAAAAA4ARABlAGYAYQB1AGwAdAAAAAEAAQAAAAgATgBhAG0AZQAAA"
"AoAAAAAEgBCAGEAcwBlACAAdABhAHMAawAAABQAUwBhAG0AcABsAGUAVABpAG0AZQAAAAoAAAAAAg"
"AwAAAADgBUAGgAZQByAG0AYQBsAAAAAQAAAAAACAAAAAAGAAAACABDAG8AcgBlAAAAAgAAAAAAAAA"
"ABgBDAHAAdQAAAAIAAAAAAAAAAA4ARABlAGYAYQB1AGwAdAAAAAEAAAAAAAgATgBhAG0AZQAAAAoA"
"AAAAEABSAGUAYQBsAFYAaQBlAHcAAAAUAFMAYQBtAHAAbABlAFQAaQBtAGUAAAAKAAAAAAgAMAAuA"
"DAAMQAAAA4AVABoAGUAcgBtAGEAbAAAAAEAAA=="
      CodeGenEnable on
      CodeGenSampleTime "0.0001"
      CodeGenDiscretizationMethod "2"
      CodeGenParameterInlining "1"
      CodeGenTarget "TI2837x"
      CodeGenTargetSettings "AAAAfwAAAAAbQ29kZUdlblRhcmdldDo6U2V0dGluZ3NNYXAAA"
"AAAAgAAAA4AVABJADIAOAAzADcAeAAAAFsAAAAiAEEAbgBUAHIAaQBwADEAQQBkAGMAQwBoAGEAbg"
"BuAGUAbAAAAAIAMAAAABwAQQBuAFQAcgBpAHAAMQBBAGQAYwBVAG4AaQB0AAAAAgAxAAAAGgBBAG4"
"AVAByAGkAcAAxAEUAbgBhAGIAbABlAAAAAgAwAAAAGgBBAG4AVAByAGkAcAAxAFMAaQBnAG4AYQBs"
"AAAAAgAxAAAAKABBAG4AVAByAGkAcAAxAFQAaAByAGUAcwBoAG8AbABkAEgAaQBnAGgAAAACADAAA"
"AAmAEEAbgBUAHIAaQBwADEAVABoAHIAZQBzAGgAbwBsAGQATABvAHcAAAACADAAAAAiAEEAbgBUAH"
"IAaQBwADIAQQBkAGMAQwBoAGEAbgBuAGUAbAAAAAIAMAAAABwAQQBuAFQAcgBpAHAAMgBBAGQAYwB"
"VAG4AaQB0AAAAAgAxAAAAGgBBAG4AVAByAGkAcAAyAEUAbgBhAGIAbABlAAAAAgAwAAAAGgBBAG4A"
"VAByAGkAcAAyAFMAaQBnAG4AYQBsAAAAAgAxAAAAKABBAG4AVAByAGkAcAAyAFQAaAByAGUAcwBoA"
"G8AbABkAEgAaQBnAGgAAAACADAAAAAmAEEAbgBUAHIAaQBwADIAVABoAHIAZQBzAGgAbwBsAGQATA"
"BvAHcAAAACADAAAAAiAEEAbgBUAHIAaQBwADMAQQBkAGMAQwBoAGEAbgBuAGUAbAAAAAIAMAAAABw"
"AQQBuAFQAcgBpAHAAMwBBAGQAYwBVAG4AaQB0AAAAAgAxAAAAGgBBAG4AVAByAGkAcAAzAEUAbgBh"
"AGIAbABlAAAAAgAwAAAAGgBBAG4AVAByAGkAcAAzAFMAaQBnAG4AYQBsAAAAAgAxAAAAKABBAG4AV"
"AByAGkAcAAzAFQAaAByAGUAcwBoAG8AbABkAEgAaQBnAGgAAAACADAAAAAmAEEAbgBUAHIAaQBwAD"
"MAVABoAHIAZQBzAGgAbwBsAGQATABvAHcAAAACADAAAAAiAEEAbgBUAHIAaQBwADQAQQBkAGMAQwB"
"oAGEAbgBuAGUAbAAAAAIAMAAAABwAQQBuAFQAcgBpAHAANABBAGQAYwBVAG4AaQB0AAAAAgAxAAAA"
"GgBBAG4AVAByAGkAcAA0AEUAbgBhAGIAbABlAAAAAgAwAAAAGgBBAG4AVAByAGkAcAA0AFMAaQBnA"
"G4AYQBsAAAAAgAxAAAAKABBAG4AVAByAGkAcAA0AFQAaAByAGUAcwBoAG8AbABkAEgAaQBnAGgAAA"
"ACADAAAAAmAEEAbgBUAHIAaQBwADQAVABoAHIAZQBzAGgAbwBsAGQATABvAHcAAAACADAAAAAaAEU"
"AWABUAEUAUgBOAEEATABfAE0ATwBEAEUAAAACADAAAAAiAEwAaQBuAGsAZQByAEMAbwBtAG0AYQBu"
"AGQARgBpAGwAZQAAAAAAAAAUAFAAdwBtADEAMABBAEcAcABpAG8AAAAEADEAOAAAABQAUAB3AG0AM"
"QAwAEIARwBwAGkAbwAAAAQAMQA5AAAAFgBQAHcAbQAxADAARwBwAGkAbwBFAG4AAAACADAAAAAUAF"
"AAdwBtADEAMQBBAEcAcABpAG8AAAAEADIAMAAAABQAUAB3AG0AMQAxAEIARwBwAGkAbwAAAAQAMgA"
"xAAAAFgBQAHcAbQAxADEARwBwAGkAbwBFAG4AAAACADAAAAAUAFAAdwBtADEAMgBBAEcAcABpAG8A"
"AAAEADIAMgAAABQAUAB3AG0AMQAyAEIARwBwAGkAbwAAAAQAMgAzAAAAFgBQAHcAbQAxADIARwBwA"
"GkAbwBFAG4AAAACADAAAAASAFAAdwBtADEAQQBHAHAAaQBvAAAAAgAwAAAAEgBQAHcAbQAxAEIARw"
"BwAGkAbwAAAAIAMQAAABQAUAB3AG0AMQBHAHAAaQBvAEUAbgAAAAIAMAAAABIAUAB3AG0AMgBBAEc"
"AcABpAG8AAAACADIAAAASAFAAdwBtADIAQgBHAHAAaQBvAAAAAgAzAAAAFABQAHcAbQAyAEcAcABp"
"AG8ARQBuAAAAAgAwAAAAEgBQAHcAbQAzAEEARwBwAGkAbwAAAAIANAAAABIAUAB3AG0AMwBCAEcAc"
"ABpAG8AAAACADUAAAAUAFAAdwBtADMARwBwAGkAbwBFAG4AAAACADAAAAASAFAAdwBtADQAQQBHAH"
"AAaQBvAAAAAgA2AAAAEgBQAHcAbQA0AEIARwBwAGkAbwAAAAIANwAAABQAUAB3AG0ANABHAHAAaQB"
"vAEUAbgAAAAIAMAAAABIAUAB3AG0ANQBBAEcAcABpAG8AAAACADgAAAASAFAAdwBtADUAQgBHAHAA"
"aQBvAAAAAgA5AAAAFABQAHcAbQA1AEcAcABpAG8ARQBuAAAAAgAwAAAAEgBQAHcAbQA2AEEARwBwA"
"GkAbwAAAAQAMQAwAAAAEgBQAHcAbQA2AEIARwBwAGkAbwAAAAQAMQAxAAAAFABQAHcAbQA2AEcAcA"
"BpAG8ARQBuAAAAAgAwAAAAEgBQAHcAbQA3AEEARwBwAGkAbwAAAAQAMQAyAAAAEgBQAHcAbQA3AEI"
"ARwBwAGkAbwAAAAQAMQAzAAAAFABQAHcAbQA3AEcAcABpAG8ARQBuAAAAAgAwAAAAEgBQAHcAbQA4"
"AEEARwBwAGkAbwAAAAQAMQA0AAAAEgBQAHcAbQA4AEIARwBwAGkAbwAAAAQAMQA1AAAAFABQAHcAb"
"QA4AEcAcABpAG8ARQBuAAAAAgAwAAAAEgBQAHcAbQA5AEEARwBwAGkAbwAAAAQAMQA2AAAAEgBQAH"
"cAbQA5AEIARwBwAGkAbwAAAAQAMQA3AAAAFABQAHcAbQA5AEcAcABpAG8ARQBuAAAAAgAwAAAAIAB"
"TAGEAbQBwAGwAZQBUAGkAbQBlAFIAZQBsAFQAbwBsAAAABAAxADAAAAAYAFMAZQByAGkAYQBsAE4A"
"dQBtAGIAZQByAAAAAAAAACoAUwBlAHIAaQBhAGwATgB1AG0AYgBlAHIAUwBwAGUAYwBpAGYAaQBlA"
"GQAAAACADAAAAAaAFQAQQBSAEcARQBUAF8ARABFAFYASQBDAEUAAAAUADAAfABDAE8ATQA0AHwAMA"
"B8ADAAAAASAFQAegAxAEUAbgBhAGIAbABlAAAAAgAwAAAADgBUAHoAMQBHAHAAaQBvAAAAAgAwAAA"
"AEgBUAHoAMgBFAG4AYQBiAGwAZQAAAAIAMAAAAA4AVAB6ADIARwBwAGkAbwAAAAIAMAAAABIAVAB6"
"ADMARQBuAGEAYgBsAGUAAAACADAAAAAOAFQAegAzAEcAcABpAG8AAAACADAAAABKAFUAUwBFAF8AR"
"ABBAFQAQQBfAFQAWQBQAEUAUwBfAEYATwBSAF8AVABVAE4AQQBCAEwARQBfAFAAQQBSAEEATQBFAF"
"QARQBSAFMAAAACADEAAAA0AFUAUwBFAF8AUwBUAEEAUgBUAF8AVABJAE0ARQBfAEkATgBfAEkATgB"
"JAFQAXwBGAEMATgAAAAIAMAAAABAAVgByAGUAZgBBAGQAYwBBAAAABgAzAC4AMAAAABAAVgByAGUA"
"ZgBBAGQAYwBCAAAABgAzAC4AMAAAABAAVgByAGUAZgBBAGQAYwBDAAAABgAzAC4AMAAAABAAVgByA"
"GUAZgBBAGQAYwBEAAAABgAzAC4AMAAAAAoAYgBvAGEAcgBkAAAAAgAyAAAAFgBiAHUAaQBsAGQAQw"
"BvAG4AZgBpAGcAAAACADEAAAAIAGMAaABpAHAAAAACADEAAAASAGUAeAB0AEMAbABrAE0ASAB6AAA"
"ABAAzADAAAAAiAGUAeAB0AE0AbwBkAGUAQgB1AGYAZgBlAHIAUwBpAHoAZQAAAAoAMQAwADAAMAAw"
"AAAAHABlAHgAdABNAG8AZABlAFMAYwBpAFAAaQBuAHMAAAAOAFsANAAzACwANAAyAF0AAAAOAGcAZ"
"QBuAE8AbgBsAHkAAAACADIAAAAUAGkAbgBzAHQAYQBsAGwARABpAHIAAAAAAAAAHABpAG4AcwB0AG"
"EAbABsAEQAaQByAEMAcAB1ADIAAAAAAAAAEgBzAHkAcwBDAGwAawBNAEgAegAAAAYAMQA5ADAAAAA"
"WAHQAYQBzAGsARgByAGUAcQBUAG8AbAAAAAIAMQAAABgAdQBuAGkAZgBsAGEAcwBoAEYAaQBsAGUA"
"AAAAAAAAEgB1AHMAZQBJAG4AdABPAHMAYwAAAAIAMQAAABAAVABJADIAOAAzADcAeABTAAAADwAAA"
"BoARQBYAFQARQBSAE4AQQBMAF8ATQBPAEQARQAAAAIAMQAAACIATABpAG4AawBlAHIAQwBvAG0AbQ"
"BhAG4AZABGAGkAbABlAAAAAAAAABoAVABBAFIARwBFAFQAXwBEAEUAVgBJAEMARQAAAAwAMAB8AHw"
"AMAB8ADAAAAAKAGIAbwBhAHIAZAAAAAIAMgAAABYAYgB1AGkAbABkAEMAbwBuAGYAaQBnAAAAAgAy"
"AAAACABjAGgAaQBwAAAAAgAxAAAAEgBlAHgAdABDAGwAawBNAEgAegAAAAQAMwAwAAAAIgBlAHgAd"
"ABNAG8AZABlAEIAdQBmAGYAZQByAFMAaQB6AGUAAAAIADEAMAAwADAAAAAcAGUAeAB0AE0AbwBkAG"
"UAUwBjAGkAUABpAG4AcwAAABAAWwA0ADMALAAgADQAMgBdAAAADgBnAGUAbgBPAG4AbAB5AAAAAgA"
"yAAAAFABpAG4AcwB0AGEAbABsAEQAaQByAAAAAAAAABIAcwB5AHMAQwBsAGsATQBIAHoAAAAGADEA"
"OQAwAAAAFgB0AGEAcwBrAEYAcgBlAHEAVABvAGwAAAACADEAAAAYAHUAbgBpAGYAbABhAHMAaABGA"
"GkAbABlAAAAAAAAABIAdQBzAGUASQBuAHQATwBzAGMAAAACADE="
      CodeGenFloatingPointFormat "1"
      ExternalModeSettings "AAAAfwAAAAAYQ29kZUdlblRhcmdldDo6U2V0dGluZ3MAAAAABw"
"AAABQARABlAGMAaQBtAGEAdABpAG8AbgAAAAIAMQAAABQATgB1AG0AUwBhAG0AcABsAGUAcwAAAAg"
"AOAAwADAAMAAAABYAUgBlAGYAcgBlAHMAaABSAGEAdABlAAAAAgAxAAAAFgBTAGUAbgBzAGkAdABp"
"AHYAaQB0AHkAAAACADAAAAAcAFQAcgBpAGcAZwBlAHIAQwBoAGEAbgBuAGUAbAAAAAQALQAxAAAAG"
"ABUAHIAaQBnAGcAZQByAEQAZQBsAGEAeQAAAAIAMAAAABgAVAByAGkAZwBnAGUAcgBWAGEAbAB1AG"
"UAAAACADA="
      MaskDisplayLang "2"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Output
        Position      [54, 40]
        Direction     right
        Index         "7"
      }
      Terminal {
        Type          Output
        Position      [54, -45]
        Direction     right
        Index         "6"
      }
      Terminal {
        Type          Output
        Position      [54, -35]
        Direction     right
        Index         "5"
      }
      Terminal {
        Type          Input
        Position      [-50, -35]
        Direction     left
        Index         "3"
      }
      Terminal {
        Type          Output
        Position      [54, -25]
        Direction     right
        Index         "4"
      }
      Terminal {
        Type          Output
        Position      [54, -15]
        Direction     right
        Index         "3"
      }
      Terminal {
        Type          Input
        Position      [-50, -45]
        Direction     left
        Index         "2"
      }
      Terminal {
        Type          Output
        Position      [54, -5]
        Direction     right
        Index         "2"
      }
      Terminal {
        Type          Output
        Position      [54, 5]
        Direction     right
        Index         "1"
      }
      Terminal {
        Type          Input
        Position      [-50, -25]
        Direction     left
        Index         "1"
      }
      Schematic {
        Location      [2560, 23; 4794, 1173]
        ZoomFactor    1
        SliderPosition [386, 183]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/Digital Out"
          Name          "LED Blinking"
          Show          on
          Position      [570, 45]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-25, -20; 25, 20]
          Parameter {
            Variable      "Gpio"
            Value         "34"
            Show          on
          }
          Parameter {
            Variable      "OutputType"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "1"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
        }
        Component {
          Type          PulseGenerator
          Name          "Pulse\nGenerator"
          Show          on
          Position      [430, 45]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Hi"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Lo"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "f"
            Value         "4"
            Show          off
          }
          Parameter {
            Variable      "DutyCycle"
            Value         "0.5"
            Show          off
          }
          Parameter {
            Variable      "Delay"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
        }
        Component {
          Type          CScript
          Name          "SVPWMf2"
          Show          on
          Position      [1145, 1220]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "DialogGeometry"
            Value         "[3440 451 769 621]"
            Show          off
          }
          Parameter {
            Variable      "NumInputs"
            Value         "[1 1 2 2]"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "[3 3]"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "0.0001"
            Show          off
          }
          Parameter {
            Variable      "TerminalBasedSampleTimes"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "GnuExtensions"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "HighlightLevel"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "#include <stdio.h>\n"
"#include <math.h>\n"
"#define PI 3.141592653f//;\n"
"#define one_by_sqrt6 0.40824829f\n"
"#define one_by_sqrt2 0.70710678f\n"
"#define sqrt2_by_sqrt3 0.816496581f\n"
"#define pi_by_3 1.04719755f\n"
"#define one_by_sqrt3 0.577350269f\n"
"#define one_by_pi_by_3 0.9549296596425f\n"
"#define sqrt3 1.732050\n"
"\n"
"#define angle_dt (0.0314159f*1.0)\n"
"\n"
"float angle;//actual angle of PLL alfa beta vectors\n"
"float U_dc = 600.0;\n"
"float Ud = 300;\n"
"float Uq = 100;\n"
"float Ud2 = 300;\n"
"float Uq2 = 100;\n"
"\n"
"struct SVPWM_vectors {\n"
"\tfloat d1d4;\n"
"\tfloat d2d5;\n"
"\tfloat d3d6;\n"
"\tfloat t0;\n"
"\tfloat t1;\n"
"\tfloat t2;\n"
"\tfloat mod_index;\n"
"}svpwm, svpwm2;\n"
"\n"
"typedef struct SVPWM_vectors SVPWM;\n"
"\n"
"\n"
"\n"
"void svPWM(float Ud, float Uq, float angle, float U_dc, SVPWM *duty_cycles)\n"
"{\n"
"float theta = 0;\n"
"float u_alfa = 0;\n"
"float u_beta = 0;\n"
"int sektor; // actual sector of PLL theta (1 of 6);\n"
"float u_alfa_1 = 0; //part of alfa vector\n"
"float u_alfa_2 = 0; //part of beta vector\n"
"float u_beta_1 = 0;\n"
"float u_beta_2 = 0;\n"
"float PWM_vector_1[3] = { 0,0,0 };\n"
"float PWM_vector_2[3] = { 0,0,0 };\n"
"float PWM_vector_0[3] = { 0,0,0 };\n"
"const short int OUT[6][3] = { {1,0,0},{1,1,0},{0,1,0},{0,1,1},{0,0,1},{1,0,1}"
" }; //space vectors\n"
"//We need only 3 transistor states, but I want to start indexing from 1 to be"
" consinstant with theory in paper. Compiler will book space in memory for eve"
"n number of bytes anyway.\n"
"unsigned short int T1[3 + 1];\n"
"unsigned short int T2[3 + 1];\n"
"unsigned short int T0[3 + 1];\n"
"float time1_vector, time2_vector, time0_vector;\n"
"float Uvmax;\n"
"float Udq;\n"
"float modulation_index;\n"
"\n"
"\n"
"Uvmax =  U_dc*one_by_sqrt3;\n"
"Udq = sqrtf(Ud*Ud+Uq*Uq);\n"
"if(Udq>=Uvmax)\n"
"{\n"
"Ud = Uvmax/Udq *Ud;\n"
"Uq = Uvmax/Udq *Uq;\n"
"}\n"
"modulation_index = Udq/Uvmax;\n"
"//Ud = Ud * sqrt3 * one_by_sqrt2;\n"
"//Uq = Uq * sqrt3 * one_by_sqrt2;\n"
"u_alfa = Ud * cosf(angle) - Uq * sinf(angle);\n"
"u_beta = Ud * sinf(angle) + Uq * cosf(angle);\n"
"theta=atan2f(-u_beta,-u_alfa) + PI;\n"
"sektor = floorf(theta * one_by_pi_by_3);\n"
"if (sektor < 0) sektor = 0;\n"
"if (sektor > 5) sektor = 5;\n"
"switch (sektor)\n"
"{\n"
"case 0:\n"
"\tu_alfa_1 = sqrt2_by_sqrt3 * U_dc;\n"
"\tu_beta_1 = 0.0;\n"
"\tu_alfa_2 = one_by_sqrt6 * U_dc;\n"
"\tu_beta_2 = one_by_sqrt2 * U_dc;\n"
"\tbreak;\n"
"case 1:\n"
"\tu_alfa_1 = one_by_sqrt6 * U_dc;\n"
"\tu_beta_1 = one_by_sqrt2 * U_dc;\n"
"\tu_alfa_2 = -one_by_sqrt6 * U_dc;\n"
"\tu_beta_2 = one_by_sqrt2 * U_dc;\n"
"\tbreak;\n"
"case 2:\n"
"\tu_alfa_1 = -one_by_sqrt6 * U_dc;\n"
"\tu_beta_1 = one_by_sqrt2 * U_dc;\n"
"\tu_alfa_2 = -sqrt2_by_sqrt3 * U_dc;\n"
"\tu_beta_2 = 0.0;\n"
"\tbreak;\n"
"case 3:\n"
"\tu_alfa_1 = -sqrt2_by_sqrt3 * U_dc;\n"
"\tu_beta_1 = 0.0;\n"
"\tu_alfa_2 = -one_by_sqrt6 * U_dc;\n"
"\tu_beta_2 = -one_by_sqrt2 * U_dc;\n"
"\tbreak;\n"
"case 4:\n"
"\tu_alfa_1 = -one_by_sqrt6 * U_dc;\n"
"\tu_beta_1 = -one_by_sqrt2 * U_dc;\n"
"\tu_alfa_2 = one_by_sqrt6 * U_dc;\n"
"\tu_beta_2 = -one_by_sqrt2 * U_dc;\n"
"\tbreak;\n"
"case 5:\n"
"\tu_alfa_1 = one_by_sqrt6 * U_dc;\n"
"\tu_beta_1 = -one_by_sqrt2 * U_dc;\n"
"\tu_alfa_2 = sqrt2_by_sqrt3 * U_dc;\n"
"\tu_beta_2 = 0.0;\n"
"\tbreak;\n"
"}\n"
"\n"
"\n"
"time1_vector = (u_alfa * u_beta_2 - u_beta * u_alfa_2) / (u_alfa_1 * u_beta_2"
" - u_beta_1 * u_alfa_2);\n"
"time2_vector = ((-u_alfa * u_beta_1 + u_beta * u_alfa_1) /(u_alfa_1 * u_beta_"
"2 - u_beta_1 * u_alfa_2));\n"
"time0_vector = 1 -  time1_vector -time2_vector;\n"
"\n"
"\n"
";\n"
"//First sector part\n"
"T1[1] = OUT[sektor][0];\n"
"T1[2] = OUT[sektor][1];\n"
"T1[3] = OUT[sektor][2];\n"
"\n"
"PWM_vector_1[0] = T1[1] * time1_vector;\n"
"PWM_vector_1[1] = T1[2] * time1_vector;\n"
"PWM_vector_1[2] = T1[3] * time1_vector;\n"
"\n"
"//Second sector part\t\n"
"if (sektor == 5)\n"
"{\n"
"\tT2[1] = OUT[0][0];\n"
"\tT2[2] = OUT[0][1];\n"
"\tT2[3] = OUT[0][2];\n"
"}\n"
"else\n"
"{\n"
"\tT2[1] = OUT[sektor + 1][0];\n"
"\tT2[2] = OUT[sektor + 1][1];\n"
"\tT2[3] = OUT[sektor + 1][2];\n"
"\n"
"}\n"
"PWM_vector_2[0] = T2[1] * time2_vector;\n"
"PWM_vector_2[1] = T2[2] * time2_vector;\n"
"PWM_vector_2[2] = T2[3] * time2_vector;\n"
"\n"
"\n"
"\n"
"PWM_vector_0[0] = 0.5f * time0_vector;\n"
"PWM_vector_0[1] = 0.5f * time0_vector;\n"
"PWM_vector_0[2] = 0.5f * time0_vector;\n"
"\n"
"//Sum of time vectors\n"
"duty_cycles->d1d4 = PWM_vector_1[0] + PWM_vector_2[0] + PWM_vector_0[0];\n"
"duty_cycles->d2d5 = PWM_vector_1[1] + PWM_vector_2[1] + PWM_vector_0[1];\n"
"duty_cycles->d3d6 = PWM_vector_1[2] + PWM_vector_2[2] + PWM_vector_0[2];\n"
"duty_cycles->t0 = time0_vector;\n"
"duty_cycles->t1 = time1_vector;\n"
"duty_cycles->t2 = time2_vector;\n"
"duty_cycles->mod_index = modulation_index;\n"
"\n"
"\n"
"\n"
"}"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         "U_dc = InputSignal(0,0);\n"
"angle = InputSignal(1,0);\n"
"Ud = InputSignal(2,0);\n"
"Uq = InputSignal(2,1);\n"
"Ud2 = InputSignal(3,0);\n"
"Uq2 = InputSignal(3,1);\n"
"\t\t\n"
"\t\t\n"
"\t\t//angle=angle + angle_dt;\n"
"\t\t//if(angle>=2*PI)angle = angle - 2*PI;\n"
"\t\t//if(angle<0) angle=angle+2*PI; // shift 2pi for negative values\n"
"\n"
"\t\tsvPWM(Ud, Uq, angle, U_dc, &svpwm);\n"
"\t\tsvPWM(Ud2, Uq2, angle, U_dc, &svpwm2);\n"
"\t\tOutputSignal(0,0) = svpwm.d1d4;\n"
"\t\tOutputSignal(0,1) = svpwm.d2d5;\n"
"\t\tOutputSignal(0,2) = svpwm.d3d6;\n"
"\t\t\n"
"\t\tOutputSignal(1,0) = svpwm2.d1d4;\n"
"\t\tOutputSignal(1,1) = svpwm2.d2d5;\n"
"\t\tOutputSignal(1,2) = svpwm2.d3d6;\n"
"\n"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "StoreCustomStateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "RestoreCustomStateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From28"
          Show          off
          Position      [1025, 1215]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Tag"
            Value         "Theta"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NoMatchingCounterpartAction"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Scope
          Name          "Scope15"
          Show          on
          Position      [1400, 1100]
          Direction     up
          Flipped       off
          LabelPosition south
          CommentOut    DisabledOpenCircuit
          Location      [0, 27; 1924, 1148]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAA/sAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAAF4A////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAA"
"AA/////wAAAGgA////+wAAAAwAVAByAGEAYwBlAHMAAAAAAP////8AAABoAP///wAAAAMAAAAAAAA"
"AAPwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABSAP///wAAB4QAAARG"
"AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AA"
"AAAAAAAAA=="
          SavedViews    "AAAAAgAAAAA="
          HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":129,\"Labels\""
":[],\"VisualIdxs\":[]}"
          PlotPalettes  "AAAAAQAAAAIAAAABAAAAAgAAAAEC//8u4P//zMwAAAAAAAEC//8AA"
"P////8AAAAAAAIAAAABAAAAAAEAAAAAAgAAAAEAAAABAAAAAQAAAAEAAAACAAAAAQAAAAABAAAAAA"
"IAAAABP/AAAAAAAAAAAAABQAgAAAAAAAAAAAACAAAAAQAAAAABAQAAAAEAAAABAAAAAAAAAAAAAAA"
"AAAAAAAAAAAAAAAAA"
          Axes          "2"
          TimeRange     "0"
          ScrollingMode "1"
          SingleTimeAxis "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    "Time / s"
          ShowLegend    "1"
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Fourier {
            SingleXAxis       on
            AxisLabel         "Frequency / Hz"
            Scaling           0
            PhaseDisplay      0
            ShowFourierLegend off
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
          }
        }
        Component {
          Type          PlecsProbe
          Name          "Probe1"
          Show          on
          Position      [1015, 1145]
          Direction     right
          Flipped       off
          LabelPosition south
        }
        Component {
          Type          Scope
          Name          "Scope5"
          Show          on
          Position      [1025, 1320]
          Direction     up
          Flipped       off
          LabelPosition south
          CommentOut    DisabledOpenCircuit
          Location      [2354, 191; 4588, 1372]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAA/sAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAADYA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAA"
"AA/////wAAAGgA////+wAAAAwAVAByAGEAYwBlAHMAAAAAAP////8AAABoAP///wAAAAMAAAAAAAA"
"AAPwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABSAP///wAACLoAAASC"
"AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AA"
"AAAAAAAAA=="
          SavedViews    "AAAAAgAAAAA="
          HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":210,\"Labels\""
":[],\"VisualIdxs\":[]}"
          PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
          Axes          "1"
          TimeRange     "0.0"
          ScrollingMode "1"
          SingleTimeAxis "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    "Time / s"
          ShowLegend    "1"
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Fourier {
            SingleXAxis       on
            AxisLabel         "Frequency / Hz"
            Scaling           0
            PhaseDisplay      0
            ShowFourierLegend off
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
          }
        }
        Component {
          Type          Integrator
          Name          "Integrator1"
          Show          on
          Position      [785, 1080]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "ExternalReset"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "InitialConditionSource"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "x0"
            Value         "pi/4"
            Show          off
          }
          Parameter {
            Variable      "ShowStatePort"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "EnableWrapping"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "UpperLimit"
            Value         "2*pi"
            Show          off
          }
          Parameter {
            Variable      "LowerLimit"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Gain"
          Show          on
          Position      [690, 1080]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "OutputDataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "GainDataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Goto
          Name          "Goto5"
          Show          off
          Position      [850, 1080]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Tag"
            Value         "Theta"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NoMatchingCounterpartAction"
            Value         "3"
            Show          off
          }
        }
        Component {
          Type          Scope
          Name          "Scope8"
          Show          on
          Position      [870, 995]
          Direction     up
          Flipped       off
          LabelPosition south
          CommentOut    DisabledOpenCircuit
          Location      [0, 26; 2234, 1243]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAA/sAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAADYA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAA"
"AA/////wAAAGgA////+wAAAAwAVAByAGEAYwBlAHMAAAAAAP////8AAABoAP///wAAAAMAAAi6AAA"
"AYvwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQBAAAAAAAACLoAAABSAP///wAACLoAAARA"
"AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AA"
"AAAAAAAAA=="
          SavedViews    "AAAAAgAAAAA="
          HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":119,\"Labels\""
":[\"Delta\"],\"VisualIdxs\":[3]}"
          PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
          Axes          "1"
          TimeRange     "0.0"
          ScrollingMode "1"
          SingleTimeAxis "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    "Time / s"
          ShowLegend    "1"
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Fourier {
            SingleXAxis       on
            AxisLabel         "Frequency / Hz"
            Scaling           0
            PhaseDisplay      0
            ShowFourierLegend off
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
          }
        }
        Component {
          Type          TriangleGenerator
          Name          "Triangular Wave2"
          Show          on
          Position      [275, 1250]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Min"
            Value         "150"
            Show          off
          }
          Parameter {
            Variable      "Max"
            Value         "236"
            Show          off
          }
          Parameter {
            Variable      "f"
            Value         "1/86"
            Show          off
          }
          Parameter {
            Variable      "DutyCycle"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Delay"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Scope
          Name          "Scope7"
          Show          on
          Position      [795, 1195]
          Direction     up
          Flipped       off
          LabelPosition south
          CommentOut    DisabledOpenCircuit
          Location      [0, 26; 2234, 1225]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAA/sAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAAF4A////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAA"
"AA/////wAAAGgA////+wAAAAwAVAByAGEAYwBlAHMAAAAAAP////8AAABoAP///wAAAAMAAAAAAAA"
"AAPwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABSAP///wAACLoAAASU"
"AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AA"
"AAAAAAAAA=="
          SavedViews    "AAAAAgAAAAA="
          HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":175,\"Labels\""
":[],\"VisualIdxs\":[]}"
          PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
"QAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA="
          Axes          "2"
          TimeRange     "80"
          ScrollingMode "1"
          SingleTimeAxis "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    "Time / s"
          ShowLegend    "1"
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Fourier {
            SingleXAxis       on
            AxisLabel         "Frequency / Hz"
            Scaling           0
            PhaseDisplay      0
            ShowFourierLegend off
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
          }
        }
        Component {
          Type          Goto
          Name          "Goto6"
          Show          off
          Position      [775, 1390]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Tag"
            Value         "Idq"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NoMatchingCounterpartAction"
            Value         "3"
            Show          off
          }
        }
        Component {
          Type          Goto
          Name          "Goto7"
          Show          off
          Position      [775, 1420]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Tag"
            Value         "Ia"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NoMatchingCounterpartAction"
            Value         "3"
            Show          off
          }
        }
        Component {
          Type          Sum
          Name          "Sum"
          Show          off
          Position      [720, 1025]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "IconShape"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "Inputs"
            Value         "|++"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Constant
          Name          "Constant1"
          Show          on
          Position      [655, 1025]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-20, -10; 20, 10]
          Parameter {
            Variable      "Value"
            Value         "100"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
        }
        Component {
          Type          CScript
          Name          "Current Observer"
          Show          on
          Position      [695, 1395]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "DialogGeometry"
            Value         "[1152 401 834 615]"
            Show          off
          }
          Parameter {
            Variable      "NumInputs"
            Value         "[1 2]"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "[2 1]"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "0.0001"
            Show          off
          }
          Parameter {
            Variable      "TerminalBasedSampleTimes"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "GnuExtensions"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "HighlightLevel"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         base64 "I2RlZmluZSBMX2RxICAgMC4wMDFmCiNkZWZpbmUgUl9k"
"cSAgICgwLjA4NTNmKQojZGVmaW5lIFRzICAgICAwLjAwMDFmICAvLyAxMDAgwrVzCgojZGVmaW5lI"
"ElOVl9TUVJUMiAwLjcwNzEwNjc4MTE4ZgovLyBpbnRlcm5hbCBzdGF0ZXMgKHBlcnNpc3RlbnQpCi"
"NpbmNsdWRlIDxtYXRoLmg+CmZsb2F0IGlkX2VzdCA9IDAuMDsKZmxvYXQgaXFfZXN0ID0gMC4wOwp"
"mbG9hdCBpZF9wcmV2ID0gMC4wOwpmbG9hdCBpcV9wcmV2ID0gMC4wOwpmbG9hdCBhLGI7"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         "float ud = InputSignal(1,0);\n"
"float uq = InputSignal(1,1);\n"
"float omega = InputSignal(0,0);\n"
"\n"
"// precompute factors\n"
"a = (2.0f*L_dq - R_dq*Ts) / (2.0f*L_dq + R_dq*Ts);\n"
"b = (Ts / (2.0f*L_dq + R_dq*Ts));\n"
"\n"
"// predictor with cross-coupling using Tustin\n"
"float id_est = a*id_prev + b*( (ud + omega*L_dq*iq_prev) + (ud) );\n"
"float iq_est = a*iq_prev + b*( (uq - omega*L_dq*id_prev) + (uq) );\n"
"\n"
"// update stored states\n"
"id_prev = id_est;\n"
"iq_prev = iq_est;\n"
"\n"
"// outputs\n"
"OutputSignal(0,0) = id_est;\n"
"OutputSignal(0,1) = iq_est;\n"
"\n"
"// phase-a current and RMS\n"
"float ia_rms = sqrtf(id_est*id_est + iq_est*iq_est) * 0.666667f * INV_SQRT2;"
"\n"
"OutputSignal(1,0) = ia_rms;"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "StoreCustomStateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "RestoreCustomStateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          Goto
          Name          "Goto8"
          Show          off
          Position      [785, 1150]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Tag"
            Value         "omega"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NoMatchingCounterpartAction"
            Value         "3"
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From32"
          Show          off
          Position      [605, 1390]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Tag"
            Value         "omega"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NoMatchingCounterpartAction"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Scope
          Name          "Scope16"
          Show          on
          Position      [2485, 925]
          Direction     up
          Flipped       off
          LabelPosition south
          Location      [0, 26; 2234, 1243]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAAAAAAAAAPwCAAAAA/sAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAAK4A////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAA"
"AA/////wAAAGgA////+wAAAAwAVAByAGEAYwBlAHMAAAAAAP////8AAABoAP///wAAAAMAAAi6AAA"
"AlfwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQBAAAAAAAACLoAAABSAP///wAACLoAAAQN"
"AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AA"
"AAAAAAAAA=="
          SavedViews    "AAAAAgAAAAA="
          HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":192,\"Labels\""
":[\"Delta\"],\"VisualIdxs\":[3]}"
          PlotPalettes  "AAAAAQAAAAIAAAABAAAAAgAAAAEC//8u4P//zMwAAAAAAAEC//8AA"
"P////8AAAAAAAIAAAABAAAAAAEAAAAAAgAAAAEAAAABAAAAAQAAAAEAAAACAAAAAQAAAAABAAAAAA"
"IAAAABP/AAAAAAAAAAAAABQAgAAAAAAAAAAAACAAAAAQAAAAABAQAAAAEAAAABAAAAAAAAAAAAAAA"
"AAAAAAAAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAQAAAAAA"
"AAAAAAAAAAAAAAAAAAAAAAAAAA=="
          Axes          "4"
          TimeRange     "0"
          ScrollingMode "1"
          SingleTimeAxis "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    "Time / s"
          ShowLegend    "1"
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Axis {
            Name          ""
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Fourier {
            SingleXAxis       on
            AxisLabel         "Frequency / Hz"
            Scaling           0
            PhaseDisplay      0
            ShowFourierLegend off
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
          }
        }
        Component {
          Type          CScript
          Name          "One Tj2"
          Show          on
          Position      [2090, 1160]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "DialogGeometry"
            Value         "[3285 427 1164 578]"
            Show          off
          }
          Parameter {
            Variable      "NumInputs"
            Value         "[1 1 1 1]"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "[1 1 1]"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "0.01"
            Show          off
          }
          Parameter {
            Variable      "TerminalBasedSampleTimes"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "GnuExtensions"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "HighlightLevel"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "#include <math.h>\n"
"#define ONE_BY_3PI 0.1061032954f\n"
"#define ONE_BY_4PI 0.0795774715f\n"
"#define PI 3.141592654f\n"
"#define ONE_BY_SQRT2 0.707106781f\n"
"#define PI_BY_2 1.570796327f\n"
"#define SVPWMdutyfactor 0.66667f\n"
"#define SPWMdutyfactor 0.5f\n"
"#define SVPWMcoeff 0.866f\n"
"#define TWO_BY_PI 0.636619f;\n"
"#define SQRT2 1.41421356237f\n"
"#define Afactor 1.0f\n"
"\n"
"float Ron = 0.082;\n"
"float Rg_on = 13.1;\n"
"float Rg_off = 13.1;\n"
"float Ug_on = 18.0f;\n"
"float Ug_off = -2.5f;\n"
"\n"
"float Qg = 5.6e-8;\n"
"float Cgd = 1e-11;\n"
"float Vplat = 8.36;\n"
"float Vth = 3.8;\n"
"\n"
"\n"
"float Rthjc = 0.045;\n"
"float Rtha =  0.08;\n"
"\n"
"\n"
"float Im, i; \n"
"float fsw = 10000.0;\n"
"float Pct1=0.0, Pct2=0.0, Psw, Eon, Eoff;\n"
"float Ptotal;\n"
"float Temperature;\n"
"float v = 300;\n"
"//Computation\n"
"float A, B, C, D;"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         "Im = fabs(InputSignal(0,0)*SQRT2);\n"
"i = Im*2*TWO_BY_PI;\n"
"\n"
"fsw = InputSignal(1,0);\n"
"\n"
"\n"
"\n"
"A = 1;\n"
"B = PI;\n"
"Pct1 = Ron*Im*Im*ONE_BY_4PI*(A*B)*1.0;\n"
"\n"
"Eon = v * i * 0.5 * (Rg_on * Qg/Ug_on * logf(1 / (1 - (Vplat / Ug_on)))-Rg_on"
" * Qg/(Ug_on - Ug_off) * logf(1 / (1 - (Vth / (Ug_on - Ug_off))))+Rg_on * Cgd"
" * (v - Ron * i) / ((Ug_on - Ug_off) - Vplat));\n"
"Eoff = v * i * 0.5 * (Rg_off * Cgd * (v - Ron * i) / Vplat+Rg_off * Qg/(Ug_on"
" - Ug_off) * logf(Vplat/Vth));\n"
"Psw = fsw*(Eon+Eoff);\n"
"Ptotal = (Pct1+Psw*SPWMdutyfactor)*1;\n"
"\n"
"\n"
"\n"
"\n"
"OutputSignal(0,0) = Ptotal;\n"
"Temperature = Ptotal*(Rthjc+Rtha)+0;\n"
"OutputSignal(1,0) = Pct1;\n"
"OutputSignal(2,0) = Eon+Eoff;"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "StoreCustomStateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "RestoreCustomStateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From34"
          Show          off
          Position      [1885, 1130]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Tag"
            Value         "Ia"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NoMatchingCounterpartAction"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Scope
          Name          "we14"
          Show          on
          Position      [2375, 1155]
          Direction     up
          Flipped       off
          LabelPosition eastSoutheast
          CommentOut    DisabledOpenCircuit
          Location      [0, 26; 2234, 1243]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAAD1AAAEpvwCAAAAA/sAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAADYA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAA"
"AA/////wAAAGgA////+wAAAAwAVAByAGEAYwBlAHMBAAAAMAAABKYAAABoAP///wAAAAMAAAFe///"
"/+vwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABSAP///wAAB8EAAASm"
"AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AA"
"AAAAAAAAA=="
          SavedViews    "AAAAAgAAAAA="
          HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":192,\"Labels\""
":[],\"VisualIdxs\":[]}"
          PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
          Axes          "1"
          TimeRange     "0"
          ScrollingMode "1"
          SingleTimeAxis "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    "Time / s"
          ShowLegend    "1"
          Axis {
            Name          "we"
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            AxisLabel     "Speed / (rad/s)"
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Fourier {
            SingleXAxis       on
            AxisLabel         "Frequency"
            Scaling           0
            PhaseDisplay      0
            ShowFourierLegend off
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
          }
        }
        Component {
          Type          SignalMux
          Name          "Mux8"
          Show          off
          Position      [2320, 1155]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "2"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Gain1"
          Show          on
          Position      [1950, 1090]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "1/sqrt(2)"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "OutputDataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "GainDataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From35"
          Show          off
          Position      [2295, 870]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Tag"
            Value         "omega"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NoMatchingCounterpartAction"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From33"
          Show          off
          Position      [2295, 930]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Tag"
            Value         "Ia"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NoMatchingCounterpartAction"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From36"
          Show          off
          Position      [2295, 980]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Tag"
            Value         "Idq"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NoMatchingCounterpartAction"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/PWM (Variable)"
          Name          "PWM (Variable)"
          Show          on
          Position      [1535, 1215]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-30, -50; 30, 50]
          Parameter {
            Variable      "SyncChainConfig"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NumPwmsInSyncGroup"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "PwmUnit"
            Value         "[1 2 3]"
            Show          off
          }
          Parameter {
            Variable      "PwmSyncGroup3"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "PwmSyncGroup2"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "PwmSyncGroup1"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "CarrierType"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "CarrierFreq"
            Value         "10e3"
            Show          off
          }
          Parameter {
            Variable      "CarrierFreqTol"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "VariableFreqMode"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "VariableDeadTime"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "FixedDeadTime"
            Value         "0.1e-6"
            Show          off
          }
          Parameter {
            Variable      "MinDeadTime"
            Value         "0.1e-6"
            Show          off
          }
          Parameter {
            Variable      "Polarity"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Sequence"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "SequenceAq"
            Value         "[0]"
            Show          off
          }
          Parameter {
            Variable      "ShowEnable"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "ShowSwap"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "EnableTripAction"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TripBlankingMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TripBlankingTime"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "TripBlankingOffset"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "CmpShadowMode"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "RedShadowMode"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "FedShadowMode"
            Value         "3"
            Show          off
          }
          Parameter {
            Variable      "AllowProtection"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "SyncSrc"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "SyncOut"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "PeripheralSyncMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "AdcTriggerMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "AdcTriggerDivider"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TaskTriggerMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TaskTriggerDivider"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "OfflinePwmTclkOrigin"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "OfflinePwmTclk"
            Value         "1/100e6"
            Show          off
          }
          Parameter {
            Variable      "tz1mode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "tz2mode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "tz3mode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "2"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-30, 0]
            Direction     left
          }
          Terminal {
            Type          EventOutput
            Position      [34, 20]
            Direction     right
          }
          Terminal {
            Type          EventOutput
            Position      [34, -20]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-30, 20]
            Direction     left
          }
          Terminal {
            Type          EventOutput
            Position      [34, 0]
            Direction     right
          }
          Terminal {
            Type          EventInput
            Position      [0, -50]
            Direction     up
          }
          Terminal {
            Type          Input
            Position      [-30, 10]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-30, -30]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-30, 30]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-30, -20]
            Direction     left
          }
          Terminal {
            Type          EventOutput
            Position      [34, -35]
            Direction     right
          }
          Terminal {
            Type          EventInput
            Position      [15, -50]
            Direction     up
          }
          Terminal {
            Type          Input
            Position      [-30, -20]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-30, 40]
            Direction     left
          }
        }
        Component {
          Type          Constant
          Name          "Constant5"
          Show          on
          Position      [1430, 1300]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-35, -10; 35, 10]
          Parameter {
            Variable      "Value"
            Value         "[0, 0, 0]"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
        }
        Component {
          Type          Constant
          Name          "fsw gain"
          Show          on
          Position      [1860, 1195]
          Direction     right
          Flipped       off
          LabelPosition south
          Frame         [-10, -10; 10, 10]
          Parameter {
            Variable      "Value"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Gain2"
          Show          on
          Position      [1950, 1195]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "fsw"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "OutputDataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "GainDataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Goto
          Name          "Goto9"
          Show          off
          Position      [1935, 1145]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Tag"
            Value         "fsw_gain"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NoMatchingCounterpartAction"
            Value         "3"
            Show          off
          }
        }
        Component {
          Type          From
          Name          "From37"
          Show          off
          Position      [1325, 1260]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Tag"
            Value         "fsw_gain"
            Show          off
          }
          Parameter {
            Variable      "Visibility"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NoMatchingCounterpartAction"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          CScript
          Name          "DriveCycle"
          Show          on
          Position      [420, 1250]
          Direction     up
          Flipped       off
          LabelPosition northwest
          Parameter {
            Variable      "DialogGeometry"
            Value         "[3440 451 455 319]"
            Show          off
          }
          Parameter {
            Variable      "NumInputs"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "[1 2]"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "0.1"
            Show          off
          }
          Parameter {
            Variable      "TerminalBasedSampleTimes"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "GnuExtensions"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "HighlightLevel"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "/* Auto-generated drive cycle data (float version) "
"*/\n"
"\n"
"float omega_table[237] = { 0.0000f, 11.4179f, 16.4270f, 27.8215f, 25.9162f, 3"
"9.4033f, 34.3286f, 4.8218f, 40.9154f, 67.9925f, 92.4669f, 129.9274f, 178.5857"
"f, 200.0546f, 225.1281f, 224.7068f, 235.6706f, 241.3070f, 231.8506f, 236.1949"
"f, 252.6266f, 253.4880f, 266.3150f, 272.0450f, 271.7080f, 269.9103f, 268.8711"
"f, 266.6334f, 266.1090f, 263.4219f, 261.2966f, 260.2854f, 257.4859f, 256.2032"
"f, 262.0643f, 259.4615f, 251.0724f, 257.0833f, 255.2108f, 250.3889f, 254.0779"
"f, 254.6677f, 260.0888f, 265.9031f, 264.3863f, 261.2217f, 258.8061f, 265.6784"
"f, 267.7101f, 268.4310f, 270.1819f, 264.5735f, 254.5086f, 248.2261f, 234.0415"
"f, 229.0137f, 230.7177f, 232.6652f, 232.7214f, 227.9931f, 228.4519f, 224.7068"
"f, 236.3916f, 244.7338f, 256.3249f, 265.3507f, 266.3618f, 263.0474f, 262.2797"
"f, 253.4225f, 249.2748f, 255.1359f, 261.5587f, 260.3041f, 262.1954f, 257.2331"
"f, 254.0311f, 252.8326f, 254.1434f, 255.0329f, 264.6391f, 267.0172f, 263.5436"
"f, 253.5067f, 233.9385f, 228.4332f, 242.7208f, 247.8984f, 268.0565f, 252.8888"
"f, 265.5098f, 265.3694f, 261.9426f, 260.6505f, 267.2607f, 261.2217f, 264.7608"
"f, 261.4277f, 263.2815f, 263.3377f, 257.1208f, 256.3530f, 261.3996f, 262.6542"
"f, 255.6040f, 261.6430f, 257.9821f, 250.0706f, 249.1437f, 251.8963f, 256.1377"
"f, 258.5158f, 251.4469f, 256.1751f, 267.4479f, 264.9200f, 260.8472f, 257.0084"
"f, 261.1280f, 261.4089f, 263.9088f, 248.8628f, 240.3239f, 249.1905f, 246.0820"
"f, 236.0264f, 238.7323f, 240.0243f, 239.0131f, 236.2043f, 241.2977f, 239.2191"
"f, 242.9362f, 247.0464f, 245.3049f, 247.3273f, 238.4701f, 231.3825f, 244.8930"
"f, 255.4542f, 251.7653f, 251.2035f, 255.6040f, 257.4672f, 257.9728f, 263.0942"
"f, 258.6188f, 261.6055f, 266.2214f, 271.0526f, 274.3577f, 277.5597f, 276.4081"
"f, 261.6711f, 246.4566f, 223.4428f, 195.4575f, 150.5068f, 140.6571f, 141.6776"
"f, 66.7473f, 75.7168f, 104.5636f, 75.7262f, 4.2975f, 39.1598f, 67.1920f, 17.3"
"352f, 4.4567f, 2.6590f, 47.6098f, 72.4679f, 73.6945f, 94.9854f, 86.4840f, 56."
"5044f, 32.6387f, 41.8610f, 42.5913f, 40.7281f, 44.3421f, 35.7377f, 23.7627f, "
"11.9563f, 3.3893f, 35.6722f, 50.9804f, 0.7724f, 9.0585f, 11.7035f, 10.7672f, "
"10.3693f, 8.9415f, 111.6840f, 124.8434f, 95.8328f, 0.2809f, 52.4129f, 100.640"
"6f, 154.2987f, 164.2981f, 170.2810f, 156.8641f, 100.1162f, 39.2956f, 86.1002f"
", 107.9061f, 115.0499f, 112.8871f, 102.4663f, 102.8689f, 76.8123f, 64.9403f, "
"2.1066f, 73.9379f, 128.3638f, 155.0852f, 143.9434f, 152.0984f, 109.8442f, 1.5"
"729f, 29.4740f, 28.8561f, 34.4691f, 33.4485f, 64.6828f, 109.9659f, 156.9343f,"
" 191.6187f, 207.0018f, 219.1313f, 220.6527f, 146.9723f, 36.2246f, 1.0299f, 33"
".2847f, 40.3068f };\n"
"float Ud_table[237] = { 0.0000f, 0.0018f, -0.1206f, -0.1221f, -0.3652f, -0.12"
"77f, -0.7527f, 1.6107f, -0.0800f, -1.5990f, -0.9976f, -3.9143f, -6.3996f, -11"
".5943f, -8.1985f, -4.8255f, -0.8178f, -3.4089f, -0.6890f, 2.9172f, -3.5691f, "
"-4.0817f, -2.0780f, -3.3481f, -1.9940f, -0.5073f, 2.0916f, 1.4853f, 0.3274f, "
"0.9960f, 1.5472f, 0.5794f, 0.1709f, 2.3072f, 0.7154f, -1.6998f, -0.0078f, 0.5"
"225f, -1.7016f, 0.5576f, 1.7960f, 1.0730f, -0.2122f, -2.2028f, -1.3077f, 0.60"
"86f, 0.5870f, 0.6100f, -2.0850f, -0.9506f, -2.1282f, -2.0630f, 2.9848f, 3.294"
"9f, 2.9621f, 4.5473f, 1.4356f, -0.5344f, -1.4377f, 0.8518f, 0.8812f, -0.1090f"
", -0.2182f, -4.2058f, -3.4950f, -5.0118f, -2.1630f, -1.1865f, 1.4469f, 0.8549"
"f, 3.5191f, 0.4709f, -1.3316f, -2.1158f, 0.2065f, -0.7622f, 2.6240f, 0.4124f,"
" -0.0511f, 0.1790f, -1.9430f, -3.8428f, 3.3447f, 0.8705f, 3.5262f, 6.2208f, -"
"1.4752f, -2.9017f, -2.6449f, -6.3933f, 2.8190f, -2.4585f, -0.4821f, 3.1601f, "
"-4.1338f, -0.1789f, 1.0782f, -1.2503f, 1.3458f, -1.5947f, 1.7874f, 0.8483f, 2"
".1563f, -5.4245f, 0.8286f, 1.0516f, -2.1606f, 2.6934f, 1.9898f, 0.8665f, -1.2"
"808f, -3.2239f, -0.2883f, 2.6289f, -2.8618f, -4.8274f, 1.7789f, 1.3653f, 0.72"
"90f, 2.0784f, -0.4562f, 0.0126f, 6.9298f, 0.9763f, -4.4372f, 1.9266f, 2.6934f"
", -1.8027f, 1.5351f, -1.2923f, 2.2321f, -1.7396f, 0.2980f, -1.2602f, -1.3551f"
", 0.6972f, 0.4087f, 2.8067f, 1.8240f, -5.0203f, -1.6036f, -0.8012f, 0.4759f, "
"-0.8788f, -1.0871f, -0.0910f, -0.7233f, -0.0207f, -1.2205f, -2.5344f, -1.4567"
"f, -1.2311f, -1.0050f, 0.0840f, 6.1090f, 4.3674f, 9.8123f, 9.2322f, 10.0273f,"
" -1.1079f, 2.4507f, 7.0401f, -1.5891f, -3.0611f, 4.7431f, 0.7039f, -1.2891f, "
"-1.7312f, 1.6570f, 0.0503f, -0.0142f, -2.0566f, -0.5100f, -2.9530f, -2.0485f,"
" 2.3194f, 1.4324f, 0.7308f, -0.3909f, -0.1327f, 0.0313f, -0.1907f, 1.1961f, 0"
".3163f, 0.1785f, 0.0788f, -1.5725f, -0.2019f, 0.2246f, -0.0383f, -0.0373f, 0."
"0117f, 0.0331f, 0.0211f, -9.1009f, -0.1091f, 6.3356f, 0.4235f, -3.4729f, -8.9"
"065f, -12.0242f, -1.7793f, -1.8239f, 5.9856f, 8.1314f, 0.3689f, -2.0038f, -3."
"3099f, -1.9989f, 1.3575f, 1.2896f, 4.9023f, 1.7026f, 3.1690f, 0.2305f, -6.879"
"1f, -8.0564f, -2.3236f, 0.1270f, -3.7986f, 9.9782f, 0.9817f, -0.2490f, 0.3802"
"f, 0.0203f, 0.0854f, -3.3942f, -7.9723f, -8.4517f, -6.9993f, -4.6949f, -3.808"
"3f, 1.3513f, 16.1759f, 6.2347f, 0.0659f, -1.0006f };\n"
"float Uq_table[237] = { 0.0000f, -0.0000f, 0.5315f, 0.2896f, 0.5905f, 0.1542f"
", 0.8927f, -2.2310f, 0.9975f, 1.8572f, 0.4506f, 1.9769f, 2.1062f, 2.8506f, 1."
"2964f, 0.5051f, -0.1676f, 0.6950f, -0.0961f, -0.7266f, 1.0139f, 0.6335f, 0.15"
"30f, 0.5246f, 0.1526f, -0.0569f, -0.4839f, -0.1617f, 0.0491f, -0.1777f, -0.25"
"06f, -0.0067f, 0.0133f, -0.4783f, 0.0124f, 0.4206f, -0.1119f, -0.1162f, 0.397"
"1f, -0.2374f, -0.3577f, -0.1071f, 0.1318f, 0.4596f, 0.1121f, -0.2297f, -0.087"
"2f, -0.0873f, 0.4833f, 0.0507f, 0.3677f, 0.2659f, -0.7834f, -0.5076f, -0.4112"
"f, -0.8198f, -0.0128f, 0.2404f, 0.3045f, -0.2968f, -0.1505f, 0.0864f, 0.0498f"
", 0.9451f, 0.4769f, 0.8099f, 0.0653f, 0.0690f, -0.4044f, -0.0851f, -0.6926f, "
"0.1487f, 0.3331f, 0.3577f, -0.1985f, 0.1656f, -0.6156f, 0.0946f, 0.0496f, -0."
"0396f, 0.4345f, 0.6660f, -0.9908f, 0.0429f, -0.6876f, -1.1705f, 0.7800f, 0.56"
"31f, 0.3800f, 1.1267f, -1.0528f, 0.6878f, -0.0681f, -0.7115f, 1.1059f, -0.261"
"6f, -0.2496f, 0.3344f, -0.3691f, 0.4299f, -0.4896f, -0.0566f, -0.4003f, 1.318"
"7f, -0.5613f, -0.1827f, 0.5301f, -0.7236f, -0.2503f, -0.0432f, 0.3506f, 0.609"
"0f, -0.1765f, -0.6020f, 0.8005f, 0.8086f, -0.7295f, -0.1836f, -0.0558f, -0.38"
"77f, 0.2542f, -0.0279f, -1.5043f, 0.2578f, 1.0710f, -0.7267f, -0.4908f, 0.598"
"2f, -0.4637f, 0.3981f, -0.5947f, 0.5448f, -0.1796f, 0.2971f, 0.2090f, -0.2530"
"f, -0.0485f, -0.5997f, -0.2274f, 1.2603f, -0.0129f, 0.0498f, -0.1733f, 0.2168"
"f, 0.1717f, -0.0618f, 0.1387f, -0.0444f, 0.2517f, 0.4417f, 0.1083f, 0.1331f, "
"0.1037f, -0.0972f, -1.2819f, -0.5389f, -1.9986f, -1.7779f, -2.6749f, 1.0466f,"
" -0.9202f, -4.4302f, 1.6769f, 1.2658f, -3.0565f, -3.1858f, 2.1225f, 1.0085f, "
"-3.6863f, -0.0246f, 0.3583f, 2.1427f, 0.0428f, 1.8878f, 0.7508f, -1.4078f, -0"
".9666f, -0.8591f, 0.5688f, 0.0847f, -0.0513f, 0.2078f, -1.5485f, -0.4120f, -0"
".5921f, -0.8457f, 2.3690f, -0.1102f, -2.2564f, 0.4896f, 0.1125f, -0.0669f, -0"
".1409f, -0.0911f, 4.2514f, -0.6734f, -3.0553f, -2.6281f, 3.8227f, 3.9219f, 3."
"1769f, -0.3012f, 0.3965f, -2.0071f, -3.3877f, 0.1249f, 1.1840f, 1.3305f, 0.59"
"75f, -0.7213f, -0.5037f, -2.1912f, -0.6842f, -2.1354f, -1.4995f, 5.0680f, 2.3"
"680f, 0.1435f, -0.1930f, 1.2464f, -4.4263f, -4.5556f, 1.0332f, -0.7034f, 0.05"
"35f, -0.1194f, 2.6120f, 3.2239f, 2.0576f, 1.2526f, 0.6732f, 0.5638f, -0.6068f"
", -5.1114f, -5.8700f, -0.1864f, 1.6471f };\n"
"int time_cycle;"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         "time_cycle = (int)(InputSignal(0,0));\n"
"if(time_cycle < 0 || time_cycle > 236 )\n"
"{\n"
"OutputSignal(0,0) = 0;\n"
"OutputSignal(1,0) = 0;\n"
"OutputSignal(1,1) = 0;\n"
"}\n"
"else\n"
"{\n"
"OutputSignal(0,0) = omega_table[time_cycle];\n"
"OutputSignal(1,0) = Ud_table[time_cycle]*0.5;\n"
"OutputSignal(1,1) = Uq_table[time_cycle];\n"
"}"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "StoreCustomStateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "RestoreCustomStateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          CScript
          Name          "Moving Average 10"
          Show          on
          Position      [515, 1250]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "DialogGeometry"
            Value         "[3440 451 1005 624]"
            Show          off
          }
          Parameter {
            Variable      "NumInputs"
            Value         "[1 2]"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "[1 2]"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "0.1"
            Show          off
          }
          Parameter {
            Variable      "TerminalBasedSampleTimes"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "GnuExtensions"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "HighlightLevel"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "#define N 10\n"
"\n"
"typedef struct {\n"
"    float buffer[N];\n"
"    float sum;\n"
"    int index;\n"
"    int filled;\n"
"} MA_State;\n"
"\n"
"float moving_average(float new_sample, MA_State *s) {\n"
"    s->sum -= s->buffer[s->index];\n"
"    s->buffer[s->index] = new_sample;\n"
"    s->sum += new_sample;\n"
"\n"
"    s->index++;\n"
"    if (s->index >= N) s->index = 0;\n"
"    if (s->filled < N) s->filled++;\n"
"\n"
"    return s->sum / s->filled;\n"
"}\n"
"\n"
"// --- Globals ---\n"
"static MA_State ma_a, ma_b, ma_c;\n"
"\n"
"\n"
"\n"
"float signal_a, signal_b, signal_c; \n"
"float filt_a, filt_b, filt_c; "
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         "signal_a = InputSignal(0,0);\n"
"signal_b = InputSignal(1,0);\n"
"signal_c = InputSignal(1,1);\n"
"\n"
"filt_a = moving_average(signal_a, &ma_a);\n"
"filt_b = moving_average(signal_b, &ma_b);\n"
"filt_c = moving_average(signal_c, &ma_c);\n"
"\n"
"OutputSignal(0,0) = filt_a;\n"
"OutputSignal(1,0) = filt_b;\n"
"OutputSignal(1,1) = filt_c;"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "StoreCustomStateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "RestoreCustomStateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          TaskFrame
          Name          "Task Frame"
          Show          off
          Position      [2150, 1060]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-437, -222; 437, 222]
          Parameter {
            Variable      "Task"
            Value         "RealView"
            Show          off
          }
        }
        Component {
          Type          TaskFrame
          Name          "Task Frame1"
          Show          off
          Position      [865, 760]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-777, -742; 777, 742]
          Parameter {
            Variable      "Task"
            Value         "Base task"
            Show          off
          }
        }
        Component {
          Type          CScript
          Name          "NormalCapacitanceNoATC"
          Show          on
          Position      [2190, 1150]
          Direction     up
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "DialogGeometry"
            Value         "[880 454 802 570]"
            Show          off
          }
          Parameter {
            Variable      "NumInputs"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NumOutputs"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NumContStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumDiscStates"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "NumZCSignals"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DirectFeedthrough"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Ts"
            Value         "0.01"
            Show          off
          }
          Parameter {
            Variable      "TerminalBasedSampleTimes"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Parameters"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "LangStandard"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "GnuExtensions"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "RuntimeCheck"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "HighlightLevel"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "Declarations"
            Value         "#define AMBIENT_TEMP 25.0f\n"
"\n"
"#define Rth1 0.64f\n"
"#define Cth1 0.03f\n"
"#define Rth2 1.26f\n"
"#define Cth2 0.4f\n"
"#define Rth3 (0.4f*6.0f)\n"
"#define Cth3 (0.1f*6.0f)\n"
"\n"
"#define TIME_STEP 0.01f\n"
"\n"
"// Time constants\n"
"float tau1;\n"
"float tau2;\n"
"float tau3;\n"
"\n"
"// Discrete coefficients\n"
"float alpha1;\n"
"float alpha2;\n"
"float alpha3;\n"
"\n"
"// State variables\n"
"float Y3 = AMBIENT_TEMP;\n"
"float Y2 = AMBIENT_TEMP;\n"
"float Y1 = AMBIENT_TEMP;"
            Show          off
          }
          Parameter {
            Variable      "StartFcn"
            Value         "tau1 = Rth1 * Cth1;\n"
"tau2 = Rth2 * Cth2;\n"
"tau3 = Rth3 * Cth3;\n"
"\n"
"// Discrete coefficients\n"
"alpha1 = TIME_STEP / tau1;\n"
"alpha2 = TIME_STEP / tau2;\n"
"alpha3 = TIME_STEP / tau3;"
            Show          off
          }
          Parameter {
            Variable      "OutputFcn"
            Value         "// Simulation step\n"
"float P = InputSignal(0,0)*(Rth1 + Rth2 + Rth3); // Power input\n"
"float Ysteady = AMBIENT_TEMP + P;\n"
"\n"
"\n"
"Y3 += alpha3 * (Ysteady - Y3); // Cth2 part \n"
"Y2 += alpha2 * (Y3 - Y2); // fast response\n"
"Y1 += alpha1 * (Y2 - Y1); // fast response\n"
"OutputSignal(0,0) = Y1;"
            Show          off
          }
          Parameter {
            Variable      "UpdateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "DerivativeFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TerminateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "StoreCustomStateFcn"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "RestoreCustomStateFcn"
            Value         ""
            Show          off
          }
        }
        Component {
          Type          Gain
          Name          "Gain3"
          Show          on
          Position      [2340, 1055]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "K"
            Value         "3/150"
            Show          off
          }
          Parameter {
            Variable      "Multiplication"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "OutputDataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "GainDataType"
            Value         "11"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/DAC"
          Name          "DAC"
          Show          on
          Position      [2455, 1055]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-25, -20; 25, 20]
          Parameter {
            Variable      "DacUnit"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Scale"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Offset"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "MinOutput"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "MaxOutput"
            Value         "3.0"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "3"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-25, 0]
            Direction     left
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/ADC"
          Name          "ADC"
          Show          on
          Position      [1990, 745]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-25, -25; 25, 25]
          Parameter {
            Variable      "TrigSrc"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "AdcUnit"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Input"
            Value         "[2]"
            Show          off
          }
          Parameter {
            Variable      "Scale"
            Value         "[1]"
            Show          off
          }
          Parameter {
            Variable      "Offset"
            Value         "[0]"
            Show          off
          }
          Parameter {
            Variable      "AcqTimeSel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "AcqTime"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "BitRes"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "VoltageRef"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "4"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [29, 0]
            Direction     right
          }
          Terminal {
            Type          EventOutput
            Position      [29, 15]
            Direction     right
          }
          Terminal {
            Type          EventInput
            Position      [0, -25]
            Direction     up
          }
        }
        Component {
          Type          Scope
          Name          "we15"
          Show          on
          Position      [2080, 745]
          Direction     up
          Flipped       off
          LabelPosition eastSoutheast
          Location      [0, 26; 2234, 1207]
          State         "AAAA/wAAAAD9AAAAAgAAAAEAAAD1AAAEgvwCAAAAA/sAAAAQAFoAb"
"wBvAG0AQQByAGUAYQAAAAAA/////wAAADYA////+wAAABQAUwBhAHYAZQBkAFYAaQBlAHcAcwAAAA"
"AA/////wAAAGgA////+wAAAAwAVAByAGEAYwBlAHMBAAAAMAAABIIAAABoAP///wAAAAMAAAFe///"
"/+vwBAAAAAfsAAAAUAEQAYQB0AGEAVwBpAGQAZwBlAHQAAAAAAP////8AAABSAP///wAAB8EAAASC"
"AAAABAAAAAQAAAAIAAAACPwAAAABAAAAAgAAAAEAAAAOAFQAbwBvAGwAQgBhAHIBAAAAAP////8AA"
"AAAAAAAAA=="
          SavedViews    "AAAAAgAAAAA="
          HeaderState   "{\"DefaultSecSize\":0,\"FirstSecSize\":113,\"Labels\""
":[],\"VisualIdxs\":[]}"
          PlotPalettes  "AAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
          Axes          "1"
          TimeRange     "0"
          ScrollingMode "1"
          SingleTimeAxis "1"
          Open          "0"
          Ts            "-1"
          SampleLimit   "0"
          XAxisLabel    "Time / s"
          ShowLegend    "1"
          Axis {
            Name          "we"
            AutoScale     1
            MinValue      0
            MaxValue      1
            Signals       {}
            SignalTypes   [ ]
            AxisLabel     "Speed / (rad/s)"
            Untangle      0
            KeepBaseline  off
            BaselineValue 0
          }
          Fourier {
            SingleXAxis       on
            AxisLabel         "Frequency"
            Scaling           0
            PhaseDisplay      0
            ShowFourierLegend off
            Axis {
              Name          ""
              AutoScale     1
              MinValue      0
              MaxValue      1
              Signals       {}
              Untangle      0
              KeepBaseline  off
              BaselineValue 0
            }
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/Timer"
          Name          "Timer"
          Show          on
          Position      [1910, 670]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-25, -25; 25, 25]
          Parameter {
            Variable      "Frequency"
            Value         "10e1"
            Show          off
          }
          Parameter {
            Variable      "FreqTolerance"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         ""
            Show          off
          }
          Terminal {
            Type          EventOutput
            Position      [29, 15]
            Direction     right
          }
          Terminal {
            Type          EventOutput
            Position      [29, -15]
            Direction     right
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/Serial/CSV"
          Name          "CSV"
          Show          on
          Position      [2570, 775]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-30, -20; 30, 20]
          Parameter {
            Variable      "TxMode"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "SciPins"
            Value         "[43,42]"
            Show          off
          }
          Parameter {
            Variable      "BaudRate"
            Value         "115200"
            Show          off
          }
          Parameter {
            Variable      "Separator"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "NewlineChar"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TimestampsMode"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "5 6"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-30, 0]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [0, -20]
            Direction     up
          }
        }
        Component {
          Type          SignalMux
          Name          "Mux"
          Show          off
          Position      [2485, 775]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "3"
            Show          off
          }
        }
        Component {
          Type          PulseGenerator
          Name          "Pulse\nGenerator1"
          Show          on
          Position      [2525, 705]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Hi"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Lo"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "f"
            Value         "10"
            Show          off
          }
          Parameter {
            Variable      "DutyCycle"
            Value         "0.5"
            Show          off
          }
          Parameter {
            Variable      "Delay"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "10"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "TIC2000_Lib/Serial/Serial"
          Name          "Serial"
          Show          on
          Position      [1415, 460]
          Direction     up
          Flipped       off
          LabelPosition south
          Frame         [-30, -20; 30, 20]
          Parameter {
            Variable      "BaudRate"
            Value         "9600"
            Show          off
          }
          Parameter {
            Variable      "TxMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "TriggerType"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "RxGpio"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TxGpio"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "TargetPortIndices"
            Value         "7 8 9 10"
            Show          off
          }
          Terminal {
            Type          Output
            Position      [34, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-30, 0]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [0, -20]
            Direction     up
          }
          Terminal {
            Type          Output
            Position      [34, 10]
            Direction     right
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Pulse\nGenerator"
          SrcTerminal   1
          DstComponent  "LED Blinking"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "From28"
          SrcTerminal   1
          DstComponent  "SVPWMf2"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "SVPWMf2"
          SrcTerminal   5
          Points        [1200, 1215]
          Branch {
            DstComponent  "PWM (Variable)"
            DstTerminal   1
          }
          Branch {
            Points        [1200, 1095]
            DstComponent  "Scope15"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Probe1"
          SrcTerminal   1
          Points        [1065, 1145; 1065, 1205]
          DstComponent  "SVPWMf2"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "SVPWMf2"
          SrcTerminal   6
          Points        [1215, 1225; 1215, 1105]
          DstComponent  "Scope15"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Integrator1"
          SrcTerminal   2
          Points        [820, 1080]
          Branch {
            DstComponent  "Goto5"
            DstTerminal   1
          }
          Branch {
            Points        [820, 995]
            DstComponent  "Scope8"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Constant1"
          SrcTerminal   1
          DstComponent  "Sum"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Gain"
          SrcTerminal   2
          Points        [720, 1080]
          DstComponent  "Sum"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Sum"
          SrcTerminal   1
          Points        [750, 1025; 750, 1080]
          Branch {
            DstComponent  "Integrator1"
            DstTerminal   1
          }
          Branch {
            Points        [750, 1150]
            Branch {
              Points        [750, 1190]
              DstComponent  "Scope7"
              DstTerminal   1
            }
            Branch {
              DstComponent  "Goto8"
              DstTerminal   1
            }
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Current Observer"
          SrcTerminal   4
          Points        [745, 1400; 745, 1420]
          DstComponent  "Goto7"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "From32"
          SrcTerminal   1
          DstComponent  "Current Observer"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "From34"
          SrcTerminal   1
          Points        [1905, 1130; 1905, 1090]
          DstComponent  "Gain1"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Gain1"
          SrcTerminal   2
          Points        [1990, 1090; 1990, 1130; 2020, 1130]
          Branch {
            Points        [2025, 1130; 2025, 1145]
            DstComponent  "One Tj2"
            DstTerminal   1
          }
          Branch {
            Points        [2020, 1080; 2280, 1080; 2280, 1160]
            DstComponent  "Mux8"
            DstTerminal   3
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux8"
          SrcTerminal   1
          DstComponent  "we14"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "From36"
          SrcTerminal   1
          Points        [2315, 980; 2315, 940]
          DstComponent  "Scope16"
          DstTerminal   4
        }
        Connection {
          Type          Signal
          SrcComponent  "Constant5"
          SrcTerminal   1
          Points        [1480, 1300; 1480, 1235]
          DstComponent  "PWM (Variable)"
          DstTerminal   4
        }
        Connection {
          Type          Signal
          SrcComponent  "fsw gain"
          SrcTerminal   1
          Points        [1900, 1195]
          Branch {
            DstComponent  "Gain2"
            DstTerminal   1
          }
          Branch {
            Points        [1900, 1145]
            DstComponent  "Goto9"
            DstTerminal   1
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Gain2"
          SrcTerminal   2
          Points        [2010, 1195; 2010, 1155]
          DstComponent  "One Tj2"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "From37"
          SrcTerminal   1
          Points        [1475, 1260; 1475, 1225]
          DstComponent  "PWM (Variable)"
          DstTerminal   7
        }
        Connection {
          Type          Signal
          SrcComponent  "Triangular Wave2"
          SrcTerminal   1
          DstComponent  "DriveCycle"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "DriveCycle"
          SrcTerminal   2
          DstComponent  "Moving Average 10"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "DriveCycle"
          SrcTerminal   3
          DstComponent  "Moving Average 10"
          DstTerminal   2
        }
        Connection {
          Type          Signal
          SrcComponent  "Moving Average 10"
          SrcTerminal   3
          Points        [605, 1245; 605, 1080]
          DstComponent  "Gain"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Moving Average 10"
          SrcTerminal   4
          Points        [630, 1255]
          Branch {
            Points        [695, 1255]
            Branch {
              Points        [975, 1255; 975, 1265]
              Branch {
                Points        [1075, 1265; 1075, 1225]
                DstComponent  "SVPWMf2"
                DstTerminal   3
              }
              Branch {
                Points        [975, 1320]
                DstComponent  "Scope5"
                DstTerminal   1
              }
            }
            Branch {
              Points        [695, 1200]
              DstComponent  "Scope7"
              DstTerminal   2
            }
          }
          Branch {
            Points        [630, 1400]
            DstComponent  "Current Observer"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Current Observer"
          SrcTerminal   3
          DstComponent  "Goto6"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "NormalCapacitanceNoATC"
          SrcTerminal   2
          Points        [2255, 1150]
          Branch {
            DstComponent  "Mux8"
            DstTerminal   2
          }
          Branch {
            Points        [2255, 1055]
            Branch {
              Points        [2255, 920; 2410, 920]
              Branch {
                DstComponent  "Scope16"
                DstTerminal   2
              }
              Branch {
                Points        [2410, 775]
                DstComponent  "Mux"
                DstTerminal   3
              }
            }
            Branch {
              DstComponent  "Gain3"
              DstTerminal   1
            }
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "One Tj2"
          SrcTerminal   5
          DstComponent  "NormalCapacitanceNoATC"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Gain3"
          SrcTerminal   2
          DstComponent  "DAC"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "ADC"
          SrcTerminal   1
          DstComponent  "we15"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "Mux"
          SrcTerminal   1
          DstComponent  "CSV"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "From35"
          SrcTerminal   1
          Points        [2315, 870; 2315, 910; 2375, 910]
          Branch {
            DstComponent  "Scope16"
            DstTerminal   1
          }
          Branch {
            Points        [2375, 765]
            DstComponent  "Mux"
            DstTerminal   2
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "From33"
          SrcTerminal   1
          Points        [2435, 930]
          Branch {
            DstComponent  "Scope16"
            DstTerminal   3
          }
          Branch {
            Points        [2435, 785]
            DstComponent  "Mux"
            DstTerminal   4
          }
        }
        Connection {
          Type          Event
          SrcComponent  "Timer"
          SrcTerminal   2
          Points        [1990, 655]
          DstComponent  "ADC"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "Pulse\nGenerator1"
          SrcTerminal   1
          Points        [2570, 705]
          DstComponent  "CSV"
          DstTerminal   2
        }
        RectangleAnnotation {
          Position     [580, 1150]
          Width        700
          Height       390
          CornerRadius 3
          Thickness    2
          PenColor     4278190080
          PenAlpha     1
          BrushColor   0
          BrushAlpha   0
        } 
        Annotation {
          Name          "<html><body>\n<p><span style=\" font-size:14px; font-"
"weight:700;\">Drive cycle</span></p></body></html>"
          Position      [355, 935]
        } 
        RectangleAnnotation {
          Position     [685, 1405]
          Width        260
          Height       90
          CornerRadius 3
          Thickness    2
          PenColor     4278190080
          PenAlpha     1
          BrushColor   0
          BrushAlpha   0
        } 
        Annotation {
          Name          "<html><body>\n<p><span style=\" font-size:14px; font-"
"weight:700;\">Current Observer</span></p></body></html>"
          Position      [690, 1465]
        } 
        RectangleAnnotation {
          Position     [1110, 1210]
          Width        290
          Height       350
          CornerRadius 3
          Thickness    2
          PenColor     4278190080
          PenAlpha     1
          BrushColor   0
          BrushAlpha   0
        } 
        Annotation {
          Name          "<html><body>\n<p><span style=\" font-size:14px; font-"
"weight:700;\">SVPWM</span></p></body></html>"
          Position      [1035, 1015]
        } 
        RectangleAnnotation {
          Position     [2140, 1130]
          Width        730
          Height       200
          CornerRadius 3
          Thickness    2
          PenColor     4278190080
          PenAlpha     1
          BrushColor   0
          BrushAlpha   0
        } 
        Annotation {
          Name          "<html><body>\n<p><span style=\" font-size:14px; font-"
"weight:700;\">Temperature estimation</span></p></body></html>"
          Position      [1870, 1010]
        } 
      }
    }
  }
}
